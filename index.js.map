{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImagesByQuery(query) {\n    return axios.get('https://pixabay.com/api/', {\n        params: {\n            key: '53361036-d6c3e8b24991f3de089666c85',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        },\n    });\n}\n","import { refs } from '../main';\n\nexport function createGallery(images) {\n    return images\n        .map(\n            image =>\n                `<li class=\"gallery-item\">\n            <a href=\"${image.webformatURL}\">\n            <img class=\"gallery-image\" src=\"${image.largeImageURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"gallery-desc-box\">\n                <p class=\"gallery-desc-title\">Likes\n                    <span class=\"gallery-desc\">${image.likes}</span></p>\n                <p class=\"gallery-desc-title\">Views\n                    <span class=\"gallery-desc\">${image.views}</span></p>\n                <p class=\"gallery-desc-title\">Comments\n                    <span class=\"gallery-desc\">${image.comments}</span></p>\n                <p class=\"gallery-desc-title\">Downloads\n                    <span class=\"gallery-desc\">${image.downloads}</span></p>\n            </div>\n        </li>`\n        )\n        .join('');\n}\n\nexport function clearGallery() {\n    refs.galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n    refs.loader.classList.remove('visible');\n}\n\nexport function hideLoader() {\n    refs.loader.classList.add('visible');\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n    clearGallery,\n    createGallery,\n    hideLoader,\n    showLoader,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const refs = {\n    form: document.querySelector('.form'),\n    galleryList: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const searchText = e.target.elements.search.value;\n\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(searchText)\n        .then(response => {\n            if (response.data.hits.length === 0) {\n                iziToast.error({\n                    message:\n                        'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n            }\n            return response.data.hits;\n        })\n        .then(hits => {\n            refs.galleryList.innerHTML = createGallery(hits);\n\n            const gallery = new SimpleLightbox('.gallery-item a');\n            gallery.options.captionsData = 'alt';\n            gallery.refresh();\n        })\n        .catch(error => console.log(error))\n        .finally(() => hideLoader());\n\n    refs.form.reset();\n});\n"],"names":["getImagesByQuery","query","axios","createGallery","images","image","clearGallery","refs","showLoader","hideLoader","e","searchText","response","iziToast","hits","gallery","SimpleLightbox","error"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,CACL,CCVO,SAASE,EAAcC,EAAQ,CAClC,OAAOA,EACF,IACGC,GACI;AAAA,uBACOA,EAAM,YAAY;AAAA,8CACKA,EAAM,aAAa,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,iDAIpCA,EAAM,KAAK;AAAA;AAAA,iDAEXA,EAAM,KAAK;AAAA;AAAA,iDAEXA,EAAM,QAAQ;AAAA;AAAA,iDAEdA,EAAM,SAAS;AAAA;AAAA,cAGvD,EACA,KAAK,EAAE,CAChB,CAEO,SAASC,GAAe,CAC3BC,EAAK,YAAY,UAAY,EACjC,CAEO,SAASC,GAAa,CACzBD,EAAK,OAAO,UAAU,OAAO,SAAS,CAC1C,CAEO,SAASE,GAAa,CACzBF,EAAK,OAAO,UAAU,IAAI,SAAS,CACvC,CCvBO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAUG,GAAK,CACtCA,EAAE,eAAc,EAEhB,MAAMC,EAAaD,EAAE,OAAO,SAAS,OAAO,MAE5CJ,IACAE,IAEAR,EAAiBW,CAAU,EACtB,KAAKC,IACEA,EAAS,KAAK,KAAK,SAAW,GAC9BC,EAAS,MAAM,CACX,QACI,2EACJ,SAAU,UAC9B,CAAiB,EAEED,EAAS,KAAK,KACxB,EACA,KAAKE,GAAQ,CACVP,EAAK,YAAY,UAAYJ,EAAcW,CAAI,EAE/C,MAAMC,EAAU,IAAIC,EAAe,iBAAiB,EACpDD,EAAQ,QAAQ,aAAe,MAC/BA,EAAQ,QAAO,CAC3B,CAAS,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAMR,EAAU,CAAE,EAE/BF,EAAK,KAAK,OACd,CAAC"}